[{"path": "GitBuilding/testpage1", "title": "Test Page 1", "content": "Test Page 1\n\nParts\n\n5 M4x10 screws \n1 widget \n\nTools\n\n1 No. 2 Phillips screwdriver \n\n\nStep 1: Put screws into the widget\n\nGet a No. 2 Phillips screwdriver ready\nTake three M4x10 screws and screw them into the widget\n\nStep 2: Put more screws into the widget\n\nFind the screwdriver again\nTake two more M4x10 screws and screw them into the same widget", "breadcrumbs": null}, {"path": "GitBuilding/Parts/M4x10PanSteel", "title": null, "content": "M4x10 Pan Head Steel\nThis is lots of text about some screws?\nSpecifications\n\n\n\nAttribute\nValue\n\n\n\n\nHead\nPan\n\n\nLength\n10 mm\n\n\nMaterial\nStainless Steel\n\n\nPitch\n0.7\n\n\n\nSuppliers\n\n\n\nSupplier\nPart Number\n\n\n\n\nRS\n528-817\n\n\nMcMasterCarr\n90116A207", "breadcrumbs": null}, {"path": "GitBuilding/Parts/Screwdriver_Philips_No2", "title": null, "content": "No. 2 Phillips screwdriver\nNo2 Phillips screwdriver. This is the correct size form an M4 pan head screw\nSpecifications\n\n\n\nAttribute\nValue\n\n\n\n\nDrive Size\nNo. 2", "breadcrumbs": null}, {"path": "GitBuilding/testpage2", "title": "Test Page 2", "content": "Test Page 2\n\nParts\n\n5 M4x10 screws \n1 widget \n\nTools\n\n1 No. 2 Phillips screwdriver \n\n\nStep 1: Put screws into the widget\n\nGet a No. 2 Phillips screwdriver ready\nTake three M4x10 screws and screw them into the widget\n\nStep 2: Put more screws into the widget\n\nFind the screwdriver again\nTake two more M4x10 screws and screw them into the same widget", "breadcrumbs": null}, {"path": "GitBuilding/widget", "title": "Widget", "content": "Widget\nThis is an example page for a part that needs more information than can be provided\nin a part library. You can also add links and images into this page.\n\nSpecifications\n\n\n\nAttribute\nValue\n\n\n\n\nType\nUnknown\n\n\nQuality\nFantastic\n\n\n\nSuppliers\n\n\n\nSupplier\nPart Number\n\n\n\n\nWidget Shop\nWidget1", "breadcrumbs": null}, {"path": "GitBuilding/index", "title": "COSI-Electronics", "content": "COSI-Electronics\n\nCOSI-Measure v1.0\nElectrical Assembly\n\n\n\nRev.\nDate  (YYYY-MM-DD)\nDescription of Change\nAuthor/Contributors\n\n\n\n\n1.0\n2019-01-10\nInitial version\nLukas Winter, Haopeng Han\n\n\n1.0.1\n2024-10-09\nGitBuilding adaptations\nLionel Broche, Matthew Beddows\n\n\n\nABOUT\nPlease find below the assembly documentation for COSI measure a 3D multipurpose measurement system. If you find any flaws or if you have any questions/suggestions with regards to this document or project please let us know lukas.winter@ptb.de. Improving the quality of this work and its documentation makes it easier for others to reproduce and build upon this work.\nDocumentation published describing Hardware is licensed under the CERN OHL v. 1.2. You may redistribute and modify this documentation under the terms of the CERN OHL v.1.2. (http://ohwr.org/cernohl) except otherwise stated.\nThis documentation is distributed WITHOUT ANY EXPRESS OR IMPLIED WARRANTY, INCLUDING OF MERCHANTABILITY, SATISFACTORY QUALITY AND FITNESS FOR A PARTICULAR PURPOSE. Please see the CERN OHL v.1.2 for applicable conditions.\nIf you find COSI measure useful in your work, please cite this paper:\nHan H, Moritz R, Oberacker E, Waiczies H, Niendorf T and Winter L, \u201eOpen Source 3D Multipurpose Measurement System with Submillimetre Fidelity and First Application in Magnetic Resonance\u201c, Scientific Reports, 7:13452, 2017\nIntroduction\nThis document describes the electrical assembly of COSI Measure. The partlist can be found in the electronics bill of material (BoM) v1.0 file.\nA more detailed description of COSI Measure can be found here: http://www.opensourceimaging.org/project/cosi-measure/\nand here:\nHan H, Moritz R, Oberacker E, Waiczies H, Niendorf T and Winter L, \u201eOpen Source 3D Multipurpose Measurement System with Submillimetre Fidelity and First Application in Magnetic Resonance\u201c, Scientific Reports, 7:13452, 2017\n\nFigure 1 Final electrical setup of COSI Measure inside the casing (front view).\n\nFigure 2 Final electrical setup of COSI Measure inside the casing (back view).\n\nFigure 3 General wiring diagram of the electronic subsystem.\n\n\n. (, ) page.\n\n\nPower management board assembly \n\n\nComments\nHere we are collecting a list of issues and improvements. If you found any errors in the documentation, have ideas/suggestions for improvements or if you did some modifications, please let us know (you can edit this document with the tracking function and send it to us).\nKnown issues\n\u2022   software bug in the CPLD code \u2192 status LED is still on after the motor power has been switched off\n\u2022   PCB design file needs bigger holes for the relay (initial KiCAD file looks good but the conversion to Gerber somehow creates this error)\nImprovements\n\u2022   A fuse might be added to the power socket\n\u2022   small sockets and connectors might be added directly after the steppers/limit switches (\u2192 easy exchange of components)", "breadcrumbs": ["GitBuilding/index.md"]}, {"path": "GitBuilding/index_BOM", "title": "Bill of Materials", "content": "Bill of Materials\nDownload this as a CSV file", "breadcrumbs": ["GitBuilding/index.md", "GitBuilding/index_BOM.md"]}, {"path": "GitBuilding/COSI_Electronics-Assembly_instruction", "title": "Power management board assembly ", "content": "<multimeter \nscrewdriver \ncable stripper \nsoldering equipment \nhot-air fan\nFlasher>\n\nPower management board assembly\nThe power management board interfaces a 220V AC input with all other DC powered components (Figure 3). An AC/DC module is used to generate a 12V DC power supply for the limit switches and the BeBoPr++ which powers the BBB with 5V. The CPLD is connected with two buttons and has two functions:\n1. Pressing button 1 (power on/off) switches on the 12V DC power for the limit switches and the BeBoPr++, which switches on the BBB.\n2. Pressing button 2 (motor on/off, after power on) powers on the 36V DC power supply of the stepper motors.\n\nBlock diagram of the power management board.\nA general description of the functionality of the power management board is shown in Figure 4.\nStep 1: Make the PCB of the power management board\nSee Gerber files\nStep 2: Assemble all electronic parts according to the schematic as seen in Figure 5-6\nPlease note: There is a conversion error in the Gerber file and the holes for the relay are too small. You can use a file or driller to increase the hole size so that the relay fits.\nStep 3: Program the CPLD using a JTAG programming cable.\nWe used the Xilinx ISE 14.7 software (downloadable from the Xilinx website) \u2192 Labtools \u2192 Impact. After powering on the CPLD (e.g. over the power management board) and connecting the JTAG programming cable, the software should be able to detect both the programming cable used and the CPLD. Then it can be programmed with the code found in the COSI_pwr_CPLD folder.\nStep 4: Test the functionality of the power management board and the CPLD.\nPlug in the CPLD to the power management board and connect the board from the power socket to 230V AC (Figure 5). In standby mode a single LED should be powered on the CPLD (Figure 5, at the top right on the CPLD). In standby mode no power (12V DC or 230V AC at the motor output) should be turned on. After shorting/turning on the power on/off button (Figure 5), the 12V DC power should be turned on and the second LED on the CPLD lights on. Verify that by measuring the 12V DC power output and 0V AC power output at the motor power supply connection (Figure 5). Now shorten/turn on the motor power button (Figure 5). You should hear the relay clicking, see the third LED on the CPLD lighting on and measure 230V AC at the motor power output.\n\nFigure 5 Photograph (top) of the assembled power management board.\n\nFigure 6 Photograph (bottom) of the assembled power management board. On the left side the 12V DC output is displayed and on the right side the 230V AC input/output connections. Please note that due to some error in the gerber file creation using KiCAD the holes were too small for the relay pins. In order for the part to fit the holes have to be made bigger using e.g. a file. The two yellow/gree isolated cables are connecting the relay with the MOSFET switch.\n2.    Connect the BeBoBr++ with the BBB and the J5-Bob\nStep 5: Connect the BBB to the BeBoPr++.\nImportant: The BBB needs to be connected the right way otherwise you might damage the BBB. The side of the BBB with the micro HDMI, USB-Port and SD-card should be located over the pins (6x3) that are used for connecting the limit switches (Figure 7).\nStep 6: Connect the J5-Bob\n(we use the source-enable option, R1, Q2 and short to SRCE needed: https://github.com/modmaker/J5-BOB) to the BeBoPr++ (Figure 7). The connections for the motor axes, the limit switches, the emergency switch, the 12V power supply are displayed in Figure 7.\n\nFigure 7 Photograph of the assembled BeBePr++ inside the casing. Please note that the USB cable and the HDMI cable were removed for the photo in order to better visualize the limit switch cables.\nAttach electrical components to the casing baseplate\nStep 7: Attach the distance holders at the position of the power management board (4x holes) and the BeBoPr++ (4x holes)\nas indicated in (Figure 8). The distance holders should point inwards so that the BeBoPr++ and the power management board can be mounted on top.\n\nFigure 8 Photograph of the assembled BeBoPr++ (backside of the casing) indicating the position of the distance holders and the +x, -x, +y, -y, +z, -z pin positions for the limit switch signals.\nStep 8: Attach the BeBoPr++ and the power management board to the distance holders using M3x6 screws.\nMake sure that the orientation of the boards is correct in order to not have any surprises later on with the wiring (check Figure 1 for reference).\nStep 9: Set the pins (SW1-SW8) of the stepper motor drivers to the desired configuration.\nThese pins adjust the current output and step/revolution. Our configuration (1600 pulse/rev \u2192 microstepping factor 8) is displayed in Figure 9.\n\nFigure 9 Pin setting of the stepper motor drivers for 1600 pulse/rev leading to a microstepping factor of 8.\nStep 10: Attach the drivers using M3x15 screws and the power supply using the M4x10 screws to the baseplate.\nYour assembled setup should look like in Figure 1.\nStep 11: You can measure and adjust (there is a small screw) the DC output voltage of the motor power supply.\nWe have used a DC voltage of 36V for our setup\nWire all components inside the casing\nIn this step we will connect all components that are on the casing baseplate. The approximate cable lengths can be deduced from the following table:\nStep 12: In order to keep the avoid cable chaos we used mounting bases and cable straps.\nAttached the mounting bases as indicated in Figure 2 (five white squares) to the casing baseplate.\nStep 13: Attach wire end ferrules to the cable Pos 18 at one end and a two-pole connector at the other end.\nConnect the connector to the BeBoPr++ and the other end of the cable to the appropriate 12V DC connection on the power management board (Figure 5). Make sure to get the polarity right (check also Figure 3).\nStep 14: Attach wire end ferrules at one end of the cables Pos 15-17 and connect the cables to the stepper motor drivers.\nConnect the other end to the according axis and output of the BeBoPr++/J5-Bob as shown in Figure 7.\nStep 15: Attached wired end ferrules to the cables Pos 11 at both ends of the cable.\nConnect the 230V AC motor supply output of the power management board with the 230V AC power input of the motor supply.\nStep 16: Attach wire end ferrules at both ends of the cables Pos  12-14.\nConnect the cables at one end with the 36V DC power output and at the other with the power input of the stepper motor drivers (see also Figure 3).\nIn order to connect the limit switch signals with the BeBoPr++, the pin strip wire (6x) needs to be soldered to the six pin strip wires (3x) (Pos 10, Table 1).\nThe BeBoPr++ has three pin input connectors, but since we feed the BeBoPr++ via the power management board, we have a common ground, so eventually only the central pin is needed, which gives the inductive limit switch signal (high or 5V if no conductive surface is near the limit switch and ground if a conductive surface is close to the limit switch). You can clip the remaining two cables from the 3-wired pin strips and connect the central cable to one of the six cables from the 6-wired pin strip. After soldering you can use a shrinking tube to isolate the contact. Proceed until all cables from the 6-wired pin strip are connected to a cable with a 3-wired pin strip at the end (even though only one pin is effectively being used). At the end connect the 6-wired pin strip to the power management board. Make sure that you connect it to the 5V output not the 12V output (see also, Figure 3&5). In the last step connect the three-pin connectors to the BeBoPr++.\nAssemble the casing cover\nIn this step all sockets will be mounted to the casing cover as indicated in Figure 1 and Figure 10.\n\nFigure 10 Schematic of the socket location on the front cover of the casing.\n5.1.    Mount the Micro HDMI socket to the cover using two M3x6 screws.\n5.2.    Mount the power socket to the cover using two M3x6 screws.\n5.3.    Mount the USB socket to the cover.\n5.4.    Mount the RJ45 socket to the cover.\n5.5.    Connect a pin strip (2x) to the power on/off button and mount it to the cover (for wire lengths please see table 1).\n5.6.    Connect a pin strip (2x) to the motor on/off button and mount it to the cover (for wire length please see table 1).\n5.7.    Prepare the main power supply cable (for wire length please see table 1). At one end you can use wire end ferrules (using a crimping tool). At the other end blade receptacles. This improves the connectivity and durability of the contacts.\n5.8.    Solder the motor cables to the 6-pole sockets (for wire length please see table 1). These will be connected to the stepper motor drivers. Remember your pin-selection since that will be used later for the stepper motor connectors as well in order to properly connect the phases of your stepper motors. We have used the following configuration:\n\n\n\nPin\n\n\n\n\n\nPin 1\nB+\n\n\nPin 2\nB-\n\n\nPin 4\nA-\n\n\nPin 5\nA+\n\n\n\nTable 2 Pin assignment of the 6-pole socket used for the stepper motor connectors.\nBe aware that the wire diameter used should be big enough for your max current (you can find many spreadsheets online to help you with the selection). We have used 0.75mm\u00b2 cables for the stepper motors and limit switches. Don\u2019t make the wires too short, otherwise you will have difficulties assembling all connections later on. At the other end of the wire you can optionally add wire end ferrules (using a crimping tool), which improves the connectivity and durability of the contacts.\nIt is recommended to use shrinking tubes after the socket connectors have been soldered. In particular for the limit switches there is not a lot of space between the pins. The shrinking tubes help to isolate the contacts, improving robustness and longevity of the system. The connector assembly steps are displayed in Figure 11.\n\n\n\n\n\n\n\n\nFigure 11 Photograph of different assembly steps of the connectors. A shrinking tube (red color) was added to improve isolation between connections.\n\n\n\nStep 17: Solder the 6-wired pin strip cables to the 8-pole socket pins.\nSolder an isolated cable to the two remaining pins of the socket. Both the 6-wired pin strip (limit switch signals) and the two cables (12V power supply) will be connected later on to the power management board. Remember your pin-configuration for the socket since you want to make sure that it matches your pin-configuration connector of the limit switches. We have used the following configuration:\n\n\n\nConnector pin\n\n\n\n\n\nPin 1\n6-wired pin strip cable 5\n\n\nPin 2\n12V (+)\n\n\nPin 3\n6-wired pin strip cable 2\n\n\nPin 4\n6-wired pin strip cable 6\n\n\nPin 5\n6-wired pin strip cable 1\n\n\nPin 6\n6-wired pin strip cable 4\n\n\nPin 7\n6-wired pin strip cable 3\n\n\nPin 8\nGround (-)\n\n\n\nTable 3 Pin assignment of the 6-pole socket used for the limit switch connector.\nAt the other end of the two cables for the 12V power supply of the limit switches you can optionally add wire end ferrules (using a crimping tool), which improves the connectivity and durability of the contacts.\nStep 18: Solder the 2-pole pin strip with wires to the 3-pole emergency button connector.\nRemember your pin-configuration for the socket since you want to make sure that it matches your pin-configuration connector of the emergency switch. We have used the following configuration:\n\n\n\nConnector\n\n\n\n\n\nPin 1\n2-wired pin strip cable\n\n\nPin 3\n2-wired pin strip cable\n\n\n\nTable 4 - Pin assignment of the 3-pole socket used for the emergency switch connector.\nStep 19: Connect the USB cable to the USB socket.\nStep 20: Connect the RJ45 cable to the RJ45 socket.\nConnect front cover sockets/buttons to baseplate and close casing\nStep 21: Connect 6-wired pin strip of the limit switch connector to the power management board\n(12V DC limit switch signals, Figure 5).\nStep 22: Connect power cable of the limit switch socket to the 12V DC output on the power management board\n(Figure 5).\nStep 23: Connect the 2-wired cable from the power on/off button to the power on/off connection on the power management board\n(Figure 5).\nStep 24: Connect the 2-wired cable from the motor on/off button to the motor on/off connection on the power management board\n(Figure 5).\nStep 25: Connect the three stepper motor sockets to the appropriate stepper motor driver.\nStep 26: Connect the 2-wired cable from the emergency button socket to the BeBoPr++\n(Figure 7).\nStep 27: Connect the cables from the power socket with the power management board AC 230V power input\n(Figure 5).\nStep 28: At the end you can fix the cables using cable straps and the provided mounting bases.\nDon\u2019t fix the cable straps too tightly so that you have a bit of room to operate in case you \u2018ll need to replace a cable and don\u2019t want to cut the hole cable strap for that.\nStep 29: Close the front cover by using the M5 screws.\nPerform functional test of current setup\nAfter all components have been connected you can test the setup.\nStep 30: Plug in the power cable to the AC 230V power socket.\nOne LED should switch on on the CPLD on the power management board.                 \nStep 31: Press the power on/off button.\nA second LED should light on on the CPLD of the power management board. Also now the BeBoPr++ should be powered (green LED on) and shortly after the Beagle Bone Black should start booting (blue LEDs on).\nStep 32: At the emergency switch input of the BeBoPr++ a red LED should be on indicating that the emergency switch is not connected.\nIf you shorten the two pins of the switch (e.g. at the emergency switch socket, the LED should turn off).\nStep 33: Check the HDMI output of the BBB (it should have booted in the meanwhile) displaying the Linux interface.\nStep 34: Connect a keyboard/mouse (before booting the BBB) to the USB port and check if its working.\nStep 35: Press the motor on/off button.\nA third light should light up on the CPLD, indicating that the power supply was switched on. In order to confirm that, check if a green LED is on at the power supply. Now the stepper motor drivers should be supplied with the 36V DC power and each driver should have a green LED on.\nStatus LED overview\nBeBoPr++/BBB\n\u2192 for all status LEDs check the BeBoPr++ documentation\n\u2192 If the emergency button is disconnected a red LED is power on at the emergency button connection\n\u2192 If the limit switches detect a conductive surface, red status LEDs are powered on at the respective limit switches\n\u2192 A green LED indicates power on for the BeBePr++\n\u2192 A blue LED indicates power on of the BBB\nPower supply\n\u2192 Green LED indicates power supply is on and DC power is supplied to the stepper motor drivers\nMotor drivers\n\u2192 Green LED indicates power supply is on\nPower management board\n\u2192 A single power on LED on the CPLD indicates the standby mode, when the power cable is connected, but the power on/off button has not been turned on yet.\n\u2192 After turning on the power on/off button another LED (2nd one, next to the previous one) lights on. It indicates that the 12V DC power has been switched on. Now the BeBoPr++ should be powered on and the BBB.\n\u2192 After pressing the motor on/off button another LED (3rd one, three powered on LEDs in total) lights on. It indicates that the 230V AC voltage is routed to the power supply, which generates 36V DC for the motors. The motors are power on now and the system is fully operational.", "breadcrumbs": ["GitBuilding/index.md", "GitBuilding/COSI_Electronics-Assembly_instruction.md"]}, {"path": "GitBuilding/Parts/Crimp_Tool", "title": null, "content": "Crimp tool\nTBC\nSpecifications\n\n\n\nAttribute\nValue\n\n\n\n\nBrand\nTBC", "breadcrumbs": null}]